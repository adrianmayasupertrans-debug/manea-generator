<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Melodii Pentru Tine</title>
</head>
<body>

<h1>ðŸ”¥ Manea PersonalizatÄƒ ðŸ”¥</h1>

<input type="text" id="words" placeholder="Scrie cuvintele..." />

<select id="style">
  <option value="romantic">ðŸ’” Romantic</option>
  <option value="boss">ðŸ’¸ Boss</option>
  <option value="toxic">ðŸ”¥ Toxic</option>
  <option value="dramatic">ðŸŽ­ Dramatic</option>
</select>

<br><br>

<button onclick="generatePreview()">GenereazÄƒ Preview</button>

<button id="buyBtn" onclick="buyFull()" style="display:none;">
  DescarcÄƒ Full - 10â‚¬
</button>

<script>
async function generatePreview() {
  const text = document.getElementById("words").value;
  const style = document.getElementById("style").value;

  const res = await fetch("/generate", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ text, style, preview: true })
  });

  const blob = await res.blob();
  const url = URL.createObjectURL(blob);

  const audio = new Audio(url);
  audio.play();

  document.getElementById("buyBtn").style.display = "block";
}

function buyFull() {
  window.location.href = "PUNE_AICI_LINKUL_TAU_STRIPE";
}
</script>

</body>
</html>
